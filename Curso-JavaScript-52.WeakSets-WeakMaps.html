<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nuevos Tipos de Datos en JavaScript</title>
</head>

<body>
  <h1>Nuevos Tipos de Datos en JavaScript</h1>
  <script>  
  /*SOLAMENTE PUEDEN ALMACENAR REFERENCIAS DEBILES
  LAS LLAVES DEBEN SER DE TIPO OBJETO
  
  OBSERVACIONES:
  -NO ES ITERABLE
  -NO SE PUEDE OCUPAR CLEAR
  -NO SE PUEDE UTILZIAR SIZE*/  

  /*const ws = new Set([1,2,3,4,5,6,7,8]);
  Esto no se puede hacer, se debe agregar con add:
  const ws1 = new WeakSet([1,2,3,4,5,6,7,8]);*/
    const ws = new WeakSet();

    let valor1 = {"valor1":1};
    let valor2 = {"valor2":2};
    let valor3 = {"valor3":3};

    ws.add(valor1);
    ws.add(valor2);

    console.log(ws);

    console.log(ws.has(valor1));
    console.log(ws.has(valor3));

    ws.delete(valor2);
    console.log(ws);
    ws.add(valor2);
    ws.add(valor3);
    console.log(ws);

    //setInterval(()=> console.log(ws),1000);
    /*Se limpia*/
    setTimeout(()=>{
      valor1=null;
      valor2=null;
      valor3=null;
    },5000)

    console.log("==================MAPS======================");
    /*ESTO NO SE HACE,SOLO SE PERMITEN LLAVES DE TIPO OBJETO
    Y QUE ESTEN REFERENCIADAS EN UNA VARIABLE 
    const wm = new WeakMap([
      ["nombre","Eduardo"],
      ["edad",22],
      ["animal","perro"]
      ]);*/

    const wm = new WeakMap();
    let llave1={};
    let llave2={};
    let llave3={};
    let llave4={};

    wm.set(llave1,1);
    wm.set(llave2,2);
    console.log(wm);

    setInterval(() => {
      console.log(wm)
    }, 1000);

    setTimeout(() => {
      llave1=null;
      llave2=null;
      llave3=null;
    }, 5000);

  </script>
</body>

